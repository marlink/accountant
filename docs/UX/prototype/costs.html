<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Prototype — Koszt/OCR</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<a href="#main-content" class="skip-link">Przejdź do treści głównej</a>
<header role="banner">
<nav role="navigation" aria-label="Główne menu nawigacyjne">
  <a href="index.html">Dashboard</a>
  <a href="invoicing.html">Faktura</a>
  <a href="invoice.html">Szczegóły FV</a>
  <a href="costs.html" aria-current="page">Koszt/OCR</a>
  <a href="bank.html">Bank/AIS</a>
  <a href="vat.html">VAT/JPK</a>
  <a href="invite.html">Współpracownik</a>
  <a href="notifications.html">Powiadomienia</a>
  <a href="reports.html">Raporty</a>
  <a href="settings.html">Ustawienia</a>
  <a href="errors.html">Błędy</a>
</nav>
</header>
<main id="main-content" role="main">
<h1 class="sr-only">Dodaj koszt</h1>
<form class="form-grid form-grid-compact" aria-label="Formularz dodawania kosztu">
  <div class="form-group">
    <label for="nip">NIP</label>
    <input id="nip" type="text" maxlength="10" placeholder="XXXXXXXXXX" aria-required="true" aria-describedby="nip-error">
    <span id="nip-error" class="sr-only" role="alert"></span>
  </div>
  <div class="form-group">
    <label for="kwota">Kwota</label>
    <input id="kwota" type="number" step="0.01" value="123.45" aria-required="true">
  </div>
  <div class="form-group">
    <label for="vat">VAT</label>
    <select id="vat" aria-required="true">
      <option value="23">23%</option>
      <option value="8">8%</option>
      <option value="5">5%</option>
      <option value="0">0%</option>
      <option value="zw">zw</option>
    </select>
  </div>
  <div class="form-group">
    <label for="kat">Kategoria</label>
    <select id="kat" aria-required="true">
      <option>Koszty biurowe</option>
      <option>Paliwo</option>
      <option>Usługi obce</option>
      <option>Marketing i reklama</option>
      <option>Podróże służbowe</option>
      <option>Szkolenia</option>
      <option>Oprogramowanie i licencje</option>
      <option>Media</option>
      <option>Wynagrodzenia</option>
      <option>Ubezpieczenia</option>
      <option>Remonty i konserwacja</option>
      <option>Materiały biurowe</option>
      <option>Telekomunikacja</option>
      <option>Catering</option>
      <option>Reklama i promocja</option>
      <option>Księgowość i prawo</option>
      <option>Transport i logistyka</option>
      <option>Wynajem</option>
      <option>Energia</option>
      <option>Internet i hosting</option>
    </select>
  </div>
  <div class="form-group align-end">
    <button id="akcept" type="submit" class="btn-secondary full-width">Wyślij do akceptacji</button>
  </div>
</form>
<div id="status" role="status" aria-live="polite" aria-atomic="true"></div>
<div class="screen-toggle-container">
  <label class="screen-toggle">
    <input id="small" type="checkbox" aria-label="Przełącz na mały ekran (390px)"> <span>Mały ekran (390px)</span>
  </label>
</div>
<div id="wrap">
  <object class="frame" type="image/svg+xml" data="../wireframes/costs_ocr.svg" aria-label="Koszt OCR wireframe"></object>
</div>
</main>
<script>
(function(){
  const s = document.getElementById('status');
  const form = document.querySelector('form');
  const nipInput = document.getElementById('nip');
  const nipError = document.getElementById('nip-error');
  
  function showStatus(message, type){
    s.textContent = message;
    s.className = type;
    s.setAttribute('aria-live', 'assertive');
  }
  
  form.addEventListener('submit', function(e){
    e.preventDefault();
    const nip = nipInput.value.trim();
    if(!/^\d{10}$/.test(nip)){
      nipInput.classList.add('error');
      nipInput.setAttribute('aria-invalid', 'true');
      nipError.textContent = 'Nieprawidłowy NIP';
      showStatus('Błąd: Nieprawidłowy NIP', 'error');
      return;
    }
    nipInput.classList.remove('error');
    nipInput.setAttribute('aria-invalid', 'false');
    nipError.textContent = '';
    const kat = document.getElementById('kat').value;
    showStatus('Wysłano do akceptacji • ' + kat, 'success');
  });
  
  // small screen toggle
  const small = document.getElementById('small');
  const wrap = document.getElementById('wrap');
  const frame = document.querySelector('.frame');
  const orig = frame.style.height || '920px';
  function apply(){
    if(small && small.checked){
      wrap.style.maxWidth = '390px';
      frame.style.height = '600px';
    } else {
      wrap.style.maxWidth = 'none';
      frame.style.height = orig;
    }
  }
  if(small){
    small.addEventListener('change', apply);
    apply();
  }
})();
</script>
</body>
</html>
