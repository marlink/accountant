<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Prototype — Ustawienia</title>
<link rel="stylesheet" href="styles.css">
<style>
.section{margin:var(--space-lg);border:2px solid var(--border);border-radius:var(--radius-xl);background:var(--surface);box-shadow:var(--shadow-md)}
.section h2{margin:0;padding:var(--space-md) var(--space-lg);border-bottom:2px solid var(--border);font-size:1.125rem;font-weight:600;color:var(--text-primary)}
.section .content{padding:var(--space-lg);display:grid;gap:var(--space-lg)}
.row{display:flex;gap:var(--space-md);align-items:center;flex-wrap:wrap}
.row label{min-width:160px;font-size:0.9375rem;font-weight:500;color:var(--text-primary);text-transform:none;letter-spacing:normal}
.row input,.row select{flex:1;min-width:200px}
@media (max-width:768px){.row{flex-direction:column;align-items:stretch}.row label{min-width:auto}}
</style>
</head>
<body>
<a href="#main-content" class="skip-link">Przejdź do treści głównej</a>
<header role="banner">
<nav role="navigation" aria-label="Główne menu nawigacyjne">
  <a href="index.html">Dashboard</a>
  <a href="invoicing.html">Faktura</a>
  <a href="invoice.html">Szczegóły FV</a>
  <a href="costs.html">Koszt/OCR</a>
  <a href="bank.html">Bank/AIS</a>
  <a href="vat.html">VAT/JPK</a>
  <a href="invite.html">Współpracownik</a>
  <a href="notifications.html">Powiadomienia</a>
  <a href="reports.html">Raporty</a>
  <a href="settings.html" aria-current="page">Ustawienia</a>
  <a href="errors.html">Błędy</a>
</nav>
</header>
<main id="main-content" role="main">
<h1 class="sr-only">Ustawienia</h1>
<div id="wrap">
  <section class="section" aria-labelledby="firma-title">
    <h2 id="firma-title">Firma</h2>
    <form class="content" aria-label="Ustawienia firmy">
      <div class="row">
        <label for="nazwa">Nazwa</label>
        <input id="nazwa" type="text" value="Acme Sp. z o.o." aria-required="true">
      </div>
      <div class="row">
        <label for="nip">NIP</label>
        <input id="nip" type="text" value="1234567890" maxlength="10" aria-required="true" aria-describedby="nip-error">
        <span id="nip-error" class="sr-only" role="alert"></span>
      </div>
      <div class="row">
        <label for="cur">Waluta</label>
        <select id="cur" aria-required="true">
          <option>PLN</option>
          <option>EUR</option>
        </select>
      </div>
      <button id="save" type="submit" class="btn-secondary button-constrained">Zapisz</button>
      <div id="status" role="status" aria-live="polite" aria-atomic="true"></div>
    </form>
  </section>
</div>
</main>
<script>
(function(){
  const form = document.querySelector('form');
  const nipInput = document.getElementById('nip');
  const nipError = document.getElementById('nip-error');
  const s = document.getElementById('status');
  
  function showStatus(message, type){
    s.textContent = message;
    s.className = type;
    s.setAttribute('aria-live', 'assertive');
  }
  
  form.addEventListener('submit', function(event){
    event.preventDefault();
    const nip = nipInput.value.trim();
    if(!/^\d{10}$/.test(nip)){
      nipInput.classList.add('error');
      nipInput.setAttribute('aria-invalid', 'true');
      nipError.textContent = 'NIP musi mieć 10 cyfr';
      showStatus('Błąd: NIP musi mieć 10 cyfr', 'error');
      return;
    }
    nipInput.classList.remove('error');
    nipInput.setAttribute('aria-invalid', 'false');
    nipError.textContent = '';
    showStatus('Zapisano ustawienia', 'success');
  });
  
})();
</script>
</body>
</html>
